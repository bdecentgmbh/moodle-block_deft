{"version":3,"file":"mobile.min.js","sources":["../src/mobile.js"],"sourcesContent":["/*\n * Open and maintain a WebSocket to recieve messages from server.\n *\n * @package    block_deft\n * @module     block_deft/socket\n * @copyright  2022 Daniel Thies <dethies@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nif (this.CONTENT_OTHERDATA) {\n    var ws = new WebSocket('wss://deftly.us/ws'),\n        token = this.CONTENT_OTHERDATA.token;\n\n    ws.onopen = function() {\n        ws.send(token);\n    };\n\n    ws.addEventListener('message', function() {\n        setTimeout(function() {\n            this.refreshContent(false);\n        }.bind(this));\n    }.bind(this));\n}\n"],"names":["this","CONTENT_OTHERDATA","ws","WebSocket","token","onopen","send","addEventListener","setTimeout","refreshContent","bind"],"mappings":";;;;;;;;AASA,GAAIA,OAAKC,kBAAmB,KACpBC,GAAK,IAAIC,UAAU,sBACnBC,MAAQJ,OAAKC,kBAAkBG,MAEnCF,GAAGG,OAAS,WACRH,GAAGI,KAAKF,QAGZF,GAAGK,iBAAiB,UAAW,WAC3BC,WAAW,gBACFC,gBAAe,IACtBC,KAAKV,QACTU,KAAKV"}